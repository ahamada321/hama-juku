---
export interface ColorMap {
  red: string[];
  lime: string[];
  green: string[];
  blue: string[];
  purple: string[];
}

interface Props {
  screenImage?: string;
}

const { screenImage = '/img/screen.jpg' } = Astro.props;

const colorMap: ColorMap = {
  red: [
    'bg-red-100',
    'bg-red-200',
    'bg-red-300',
    'bg-red-400',
    'bg-red-500',
    'bg-red-600',
    'bg-red-700',
    'bg-red-800',
  ],
  lime: [
    'bg-lime-100',
    'bg-lime-200',
    'bg-lime-300',
    'bg-lime-400',
    'bg-lime-500',
    'bg-lime-600',
    'bg-lime-700',
    'bg-lime-800',
  ],
  green: [
    'bg-green-100',
    'bg-green-200',
    'bg-green-300',
    'bg-green-400',
    'bg-green-500',
    'bg-green-600',
    'bg-green-700',
    'bg-green-800',
  ],
  blue: [
    'bg-blue-100',
    'bg-blue-200',
    'bg-blue-300',
    'bg-blue-400',
    'bg-blue-500',
    'bg-blue-600',
    'bg-blue-700',
    'bg-blue-800',
  ],
  purple: [
    'bg-purple-100',
    'bg-purple-200',
    'bg-purple-300',
    'bg-purple-400',
    'bg-purple-500',
    'bg-purple-600',
    'bg-purple-700',
    'bg-purple-800',
  ],
};
---

<div class="order-2 w-[80vw] lg:w-[800px] h-72 sm:h-80 mt-64 lg:mt-72 relative">
  <div
    class="desk-perspective absolute inset-0 rounded-3xl bg-gradient-to-br from-gray-50 via-gray-100 to-gray-200 border border-black/10 shadow-lg"
  ></div>
  <!-- Monitor -->
  <div class="absolute top-4 left-1/2 transform -translate-x-1/2">
    <div class="relative">
      <div
        class="w-12 h-10 bg-gradient-to-b from-gray-300 to-white shadow-lg mx-auto rounded-t-lg border-x border-gray-300"
      ></div>
      <div
        class="w-32 h-5 bg-gradient-to-b from-white to-gray-300 shadow-lg rounded-t-lg mx-auto"
      ></div>
    </div>
    <div class="relative">
      <div
        class="absolute -top-72 sm:-top-[325px] left-1/2 transform rounded-2xl -translate-x-1/2 w-80 sm:w-96 shadow-lg"
      >
        <div class="relative w-full bg-gray-900 rounded-t-2xl p-4">
          <div class="w-full aspect-video gradient-bg relative overflow-hidden">
            <img src={screenImage} alt="screen app" class="w-full" />
            <div
              class="absolute top-4 left-4 w-16 h-40 bg-white/10 rounded-lg transform -skew-x-12"
            ></div>
            <div
              class="absolute top-1/6 left-27 sm:left-34 transform -translate-x-1/3 text-center flex items-center"
            >
              <p
                id="typingtext"
                class="text-lg font-semibold text-white typing-text"
              ></p>
              <span id="cursor" class="typing-cursor text-white text-lg">|</span>
            </div>
          </div>
        </div>
        <div
          class="flex items-center justify-center w-full h-12 bg-gray-100 rounded-b-2xl overflow-hidden"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="bi bi-apple"
            viewBox="0 0 16 16"
          >
            <path
              d="M11.182.008C11.148-.03 9.923.023 8.857 1.18c-1.066 1.156-.902 2.482-.878 2.516s1.52.087 2.475-1.258.762-2.391.728-2.43m3.314 11.733c-.048-.096-2.325-1.234-2.113-3.422s1.675-2.789 1.698-2.854-.597-.79-1.254-1.157a3.7 3.7 0 0 0-1.563-.434c-.108-.003-.483-.095-1.254.116-.508.139-1.653.589-1.968.607-.316.018-1.256-.522-2.267-.665-.647-.125-1.333.131-1.824.328-.49.196-1.422.754-2.074 2.237-.652 1.482-.311 3.83-.067 4.56s.625 1.924 1.273 2.796c.576.984 1.34 1.667 1.659 1.899s1.219.386 1.843.067c.502-.308 1.408-.485 1.766-.472.357.013 1.061.154 1.782.539.571.197 1.111.115 1.652-.105.541-.221 1.324-1.059 2.238-2.758q.52-1.185.473-1.282"
            />
          </svg>
        </div>
      </div>
    </div>
  </div>
  <!-- Keyboard -->
  <div
    class="absolute top-20 sm:top-24 left-1/2 transform -translate-x-1/2 item-3d keyboard-3d"
  >
    <div class="w-72 h-24 bg-white rounded-lg shadow-3d p-2">
      <div class="grid grid-rows-4 gap-1 h-full">
        <div class="flex gap-1">
          {Array(12)
            .fill(0)
            .map(() => (
              <div
                class="flex-1 bg-gray-200 rounded-sm hover:bg-gray-500 shadow-sm"
              ></div>
            ))}
          <div
            class="flex-2 bg-gray-200 rounded-sm hover:bg-gray-500 shadow-sm"
          ></div>
        </div>
        <div class="flex gap-1">
          <div
            class="flex-2 bg-gray-200 rounded-sm hover:bg-gray-500 shadow-sm"
          ></div>
          {Array(11)
            .fill(0)
            .map(() => (
              <div
                class="flex-1 bg-gray-200 rounded-sm hover:bg-gray-500 shadow-sm"
              ></div>
            ))}
          <div
            class="flex-2 bg-gray-200 rounded-sm hover:bg-gray-500 shadow-sm"
          ></div>
        </div>
        <div class="grid grid-cols-12 gap-1">
          <div
            class="col-span-2 bg-gray-200 rounded-sm hover:bg-gray-500 shadow-sm"
          ></div>
          {Array(8)
            .fill(0)
            .map(() => (
              <div
                class="bg-gray-200 rounded-sm hover:bg-gray-500 shadow-sm"
              ></div>
            ))}
          <div
            class="col-span-2 bg-gray-200 rounded-sm hover:bg-gray-500 shadow-sm"
          ></div>
        </div>
        <div class="grid grid-cols-9 gap-1">
          {Array(3)
            .fill(0)
            .map(() => (
              <div
                class="bg-gray-200 rounded-sm hover:bg-gray-500 shadow-sm"
              ></div>
            ))}
          <div
            class="col-span-3 bg-gray-200 rounded-sm hover:bg-gray-500 shadow-sm"
          ></div>
          {Array(3)
            .fill(0)
            .map(() => (
              <div
                class="bg-gray-200 rounded-sm hover:bg-gray-500 shadow-sm"
              ></div>
            ))}
        </div>
      </div>
    </div>
  </div>
  <!-- Mouse -->
  <div
    class="absolute bottom-2 md:bottom-32 right-4 sm:right-12 md:right-32 item-3d mouse-3d"
  >
    <div
      class="w-12 h-20 bg-white rounded-2xl shadow-3d relative overflow-hidden"
    >
      <div
        class="absolute top-1 left-0.5 w-4 h-8 bg-gray-100 hover:bg-gray-500/20 rounded-tl-xl shadow-sm"
      ></div>
      <div
        class="absolute top-1 right-0.5 w-4 h-8 bg-gray-100 hover:bg-gray-500/20 rounded-tr-xl shadow-sm"
      ></div>
      <div
        class="absolute top-2.5 left-1/2 transform -translate-x-1/2 w-2 h-4 bg-gray-300 rounded-full shadow-sm"
      ></div>
      <div
        class="absolute top-8 left-1/2 transform -translate-x-1/2 size-1.5 bg-gray-300 rounded-full"
      ></div>
    </div>
  </div>
  <!-- Drawing Pad -->
  <div class="absolute bottom-0 right-40 md:right-64 item-3d tablet-3d">
    <div class="w-36 h-24 bg-gray-700 rounded-lg shadow-elevated relative">
      <div class="absolute top-0 inset-x-0 bottom-6 bg-gray-800 rounded-t-lg"></div>
      <div
        class="absolute top-8 left-8 w-20 h-2 bg-gray-400 rounded-full transform rotate-12 shadow-sm"
      >
        <div
          class="absolute -right-1 top-0 w-3 h-2 bg-gray-600 rounded-r-full"
        ></div>
        <div
          class="absolute left-4 top-0 w-8 h-2 bg-blue-400 rounded-full"
        ></div>
      </div>
      <div class="absolute bottom-2 left-4 flex gap-1">
        {Array(4)
          .fill(0)
          .map(() => (
            <div
              class="w-3 h-2 bg-gray-600 hover:bg-lime-400 rounded-xs shadow-sm"
            ></div>
          ))}
      </div>
    </div>
  </div>
  <!-- Sketchbook with Pencil -->
  <div
    class="absolute top-12 left-6 md:left-16 max-sm:hidden item-3d sketchbook-3d"
    style="animation-delay: -4s;"
  >
    <div
      class="w-24 h-32 bg-gradient-to-b from-lime-100 to-lime-200 rounded-lg shadow-3d border border-lime-300 relative"
    >
      <div class="absolute left-0 top-0 h-full w-4 bg-lime-300 rounded-l-lg">
        <div class="flex flex-col items-center justify-evenly h-full py-2">
          {Array(5)
            .fill(0)
            .map(() => (
              <div class="w-2 h-2 bg-lime-600 rounded-full shadow-sm"></div>
            ))}
        </div>
      </div>
      <div class="absolute right-2 top-6 space-y-2">
        <div class="w-16 h-0.5 bg-gray-400"></div>
        <div class="w-14 h-0.5 bg-gray-400"></div>
        <div class="w-12 h-0.5 bg-gray-400"></div>
      </div>
      <div
        class="absolute -right-6 top-8 w-24 h-2 bg-gradient-to-r from-lime-600 to-lime-800 rounded-full rotate-45 shadow-sm"
      >
        <div
          class="absolute right-0 w-3 h-2 bg-gray-600 rounded-r-full"
        ></div>
        <div
          class="absolute right-3 w-2 h-2 bg-pink-300 rounded-full"
        ></div>
      </div>
    </div>
  </div>
  <!-- Pantone Color Guide -->
  <div
    class="absolute bottom-6 left-2 sm:left-20 item-3d pantone-3d max-sm:hidden"
    style="animation-delay: -5s;"
  >
    <div
      class="w-24 h-24 bg-white rounded-lg shadow-3d border border-gray-200 relative overflow-hidden"
    >
      <div class="bg-red-500 h-6 flex items-center justify-center">
        <span class="text-white text-xs font-bold">Color Guide</span>
      </div>
      <div class="p-1 space-y-1">
        {(['red', 'lime', 'green', 'blue', 'purple'] as (keyof typeof colorMap)[]).map(
          (color) => (
            <div class="grid grid-cols-8 gap-0.5">
              {colorMap[color].map((colorClass: string) => (
                <div class={`p-1 shadow-sm ${colorClass}`}></div>
              ))}
            </div>
          ),
        )}
      </div>
    </div>
  </div>
  <!-- Coffee Cup -->
  <div
    class="absolute top-12 right-12 max-sm:hidden item-3d coffee-3d"
    style="animation-delay: -6s;"
  >
    <div class="relative">
      <div
        class="absolute top-2 -right-4 h-8 w-4 rounded-r-full bg-gradient-to-l from-gray-500 to-gray-400 border-r border-gray-300 shadow-sm"
      ></div>
      <div
        class="absolute top-4 -right-2 h-4 w-2 rounded-r-xl bg-gray-200 border-r border-gray-300"
      ></div>
      <div
        class="w-12 h-14 bg-gradient-to-r from-white to-gray-500 rounded-b-2xl shadow-3d relative"
      ></div>
      <div
        class="absolute -top-3 left-0 w-12 h-8 rounded-full p-1 bg-gray-100 border border-gray-300 shadow-sm"
      >
        <div class="w-full h-full bg-orange-800 rounded-full"></div>
      </div>
    </div>
  </div>
</div>

<!-- JavaScript -->
<script src="../scripts/typingEffect.js"></script>