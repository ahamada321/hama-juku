---
import Layout from '@src/layouts/Layout.astro';
import HeadingPage from '@components/HeadingPage.astro';
import PortfolioSection from '@components/PortfolioSection.astro';
import CourseSection from '@components/CourseSection.astro';
import ServicesSection from '@components/ServicesSection.astro';
import CTA from '@components/CTA.astro';
import { coursePosts } from '@src/data/CourseItems';

const postsPerPage = 3;
const currentPage = 1;
const totalPosts = coursePosts.length;
const totalPages = Math.ceil(totalPosts / postsPerPage);
const posts = coursePosts.slice(0, postsPerPage);
---

<Layout title="① 基礎コース一覧 | ハマ塾">
  <HeadingPage
    title="① 基礎コースを学ぶ"
    description="ハマ塾の教え方や学習スタイルを体験できます。なお、【フル版】には下記すべてのコースが含まれます。"
  />
  <PortfolioSection />
  <CourseSection
    posts={posts}
    currentPage={currentPage}
    totalPages={totalPages}
    baseUrl="/course/"
  />
  <ServicesSection />
  <CTA
    title="ハマ塾フル版 (完全版)"
    description="断片的な知識を一つの戦略にまとめよう。 最短で突き抜けるなら【フル版】"
    ctaText="満席 | 次回の優先案内はこちら"
    ctaLink="/master"
  />
</Layout>